<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MagiDict Benchmark</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { background: #111; color: #fff; font-family: sans-serif; text-align:center; }
    canvas { background: #222; margin: 30px auto; border-radius: 10px; display:block; }
    h1 { margin-top: 20px; }
  </style>
</head>
<body>
  <h1>MagiDict Benchmark</h1>

  <canvas id="basicOps" width="700" height="400"></canvas>
  <canvas id="accessPatterns" width="700" height="400"></canvas>
  <canvas id="initialization" width="700" height="400"></canvas>
  <canvas id="conversion" width="700" height="400"></canvas>
  <canvas id="iteration" width="700" height="400"></canvas>
  <canvas id="update" width="700" height="400"></canvas>
  <canvas id="overallRadar" width="700" height="500"></canvas>

  <script>
    function createBarChart(canvasId, labels, datasets, lowerIsBetter = false) {
      const ctx = document.getElementById(canvasId).getContext('2d');
      new Chart(ctx, {
        type: 'bar',
        data: { labels, datasets },
        options: {
          responsive: false,
          plugins: { 
            legend: { labels: { color: '#fff' } },
            title: {
              display: true,
              text: lowerIsBetter ? 'Time (ms) â€“ Lower is Better' : 'Time (ms)',
              color: '#fff'
            }
          },
          scales: {
            x: { ticks: { color: '#fff' }, grid: { color: '#444' } },
            y: { ticks: { color: '#fff' }, grid: { color: '#444' } }
          }
        }
      });
    }

    function createRadarChart(canvasId, labels, datasets) {
      const ctx = document.getElementById(canvasId).getContext('2d');
      new Chart(ctx, {
        type: 'radar',
        data: { labels, datasets },
        options: {
          responsive: false,
          scales: {
            r: { angleLines: { color: '#444' }, grid: { color: '#444' }, pointLabels: { color: '#fff' }, min: 0, max: 100 }
          },
          plugins: { legend: { labels: { color: '#fff' } } }
        }
      });
    }


    // Basic Operations
    createBarChart('basicOps',
      ['Contains', 'Get Method', 'Bracket Access'],
      [
        { label: 'MagiDict', data: [112.5, 153.25, 546.54], backgroundColor: '#8B5CF6' },
        { label: 'Box', data: [463.73, 770.52, 802.42], backgroundColor: '#EF4444' },
        { label: 'DotMap', data: [205.7, 249.78, 440.67], backgroundColor: '#F59E0B' },
        { label: 'Addict', data: [112.53, 160.97, 150.48], backgroundColor: '#10B981' },
        { label: 'DotDict', data: [286.69, 418.05, 456.07], backgroundColor: '#3B82F6' }
      ],
      true
    );

    // Access Patterns
    createBarChart('accessPatterns',
      ['Basic Access', 'List Access', 'Missing Key'],
      [
        { label: 'MagiDict', data: [2864.83, 2032.07, 10425.85], backgroundColor: '#8B5CF6' },
        { label: 'Box', data: [2794.29, 2399.41, 5509.24], backgroundColor: '#EF4444' },
        { label: 'DotMap', data: [4746.58, 3373.72, 7789.8], backgroundColor: '#F59E0B' },
        { label: 'Addict', data: [1820.58, 1422.04, 8488.66], backgroundColor: '#10B981' },
        { label: 'DotDict', data: [286.69, 456.07, 6779.53], backgroundColor: '#3B82F6' }
      ],
      true
    );

    // Initialization
    createBarChart('initialization',
      ['Standard', 'Deep Nested', 'Wide (1000 keys)'],
      [
        { label: 'MagiDict', data: [56.8, 85.31, 10956.61], backgroundColor: '#8B5CF6' },
        { label: 'Box', data: [869.7, 196.78, 22336.51], backgroundColor: '#EF4444' },
        { label: 'DotMap', data: [867.85, 72.17, 8666.48], backgroundColor: '#F59E0B' },
        { label: 'Addict', data: [334.29, 39.91, 5324.99], backgroundColor: '#10B981' },
        { label: 'DotDict', data: [286.69, 286.69, 10776.57], backgroundColor: '#3B82F6' }
      ],
      true
    );

    // Conversion
    createBarChart('conversion',
      ['To Dict', 'Deep Copy', 'Copy'],
      [
        { label: 'MagiDict', data: [261.77, 272.41, 29.69], backgroundColor: '#8B5CF6' },
        { label: 'Box', data: [134.91, 2408.81, 48.52], backgroundColor: '#EF4444' },
        { label: 'DotMap', data: [173.14, 423.78, 412.56], backgroundColor: '#F59E0B' },
        { label: 'Addict', data: [225.82, 431.09, 13.31], backgroundColor: '#10B981' },
        { label: 'DotDict', data: [286.69, 493.50, 492.54], backgroundColor: '#3B82F6' }
      ],
      true
    );

    // Iteration
    createBarChart('iteration',
      ['List Iteration', 'Keys', 'Values', 'Items'],
      [
        { label: 'MagiDict', data: [91.68, 2.27, 2.27, 2.42], backgroundColor: '#8B5CF6' },
        { label: 'Box', data: [85.85, null, null, null], backgroundColor: '#EF4444' },
        { label: 'DotMap', data: [150.96, null, null, null], backgroundColor: '#F59E0B' },
        { label: 'Addict', data: [58.8, null, null, null], backgroundColor: '#10B981' },
        { label: 'DotDict', data: [923.65, 3.17, 3.46, 1.08], backgroundColor: '#3B82F6' }
      ],
      true
    );

    // Update
    createBarChart('update',
      ['Single Update', 'Bulk Update', 'Setdefault'],
      [
        { label: 'MagiDict', data: [32.18, 44.24, 37.32], backgroundColor: '#8B5CF6' },
        { label: 'Box', data: [50.64, 55.37, 64.05], backgroundColor: '#EF4444' },
        { label: 'DotMap', data: [426.72, null, null], backgroundColor: '#F59E0B' },
        { label: 'Addict', data: [337.63, null, null], backgroundColor: '#10B981' },
        { label: 'DotDict', data: [492.54, 497.43, null], backgroundColor: '#3B82F6' }
      ],
      true
    );

    // Overall Radar
    createRadarChart('overallRadar',
      ['Basic Ops', 'Access Speed', 'Init Speed', 'Safety', 'Features', 'Memory'],
      [
        { label: 'MagiDict', data: [95, 85, 80, 100, 100, 85], backgroundColor: 'rgba(139,92,246,0.6)', borderColor:'#8B5CF6', borderWidth:2 },
        { label: 'Box', data: [60, 90, 40, 60, 70, 70], backgroundColor: 'rgba(239,68,68,0.3)', borderColor:'#EF4444', borderWidth:2 },
        { label: 'DotMap', data: [80, 65, 45, 50, 60, 80], backgroundColor: 'rgba(245,158,11,0.3)', borderColor:'#F59E0B', borderWidth:2 },
        { label: 'Addict', data: [95, 95, 90, 80, 70, 90], backgroundColor: 'rgba(16,185,129,0.3)', borderColor:'#10B981', borderWidth:2 },
        { label: 'DotDict', data: [85, 75, 70, 90, 80, 80], backgroundColor: 'rgba(59,130,246,0.3)', borderColor:'#3B82F6', borderWidth:2 }
      ]
    );

  </script>
</body>
</html>
